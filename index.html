<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fireworks & Heart Animation</title>
    <style>
        body { margin: 0; padding: 0; background-color: black; }
        canvas { display: block; }
    </style>
</head>
<body>
<canvas id="canvas"></canvas>
<script>
// Canvas setup
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
canvas.width = 1080;
canvas.height = 600;
const CANVAS_WIDTH = canvas.width;
const CANVAS_HEIGHT = canvas.height;
const CANVAS_CENTER_X = CANVAS_WIDTH / 2;
const CANVAS_CENTER_Y = CANVAS_HEIGHT / 2;

// Heart function to calculate heart shape
function heartFunction(t) {
    const x = 16 * Math.pow(Math.sin(t), 3);
    const y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
    return {x: CANVAS_CENTER_X + x * 10, y: CANVAS_CENTER_Y + y * 10};
}

// Firework class for particles
class Firework {
    constructor() {
        this.particles = [];
        this.numParticles = 100;
        this.color = "#" + Math.floor(Math.random()*16777215).toString(16); // random color
        this.center = { x: Math.random() * CANVAS_WIDTH, y: Math.random() * CANVAS_HEIGHT };
        this.status = 0;  // Time tracker for particles
        this.maxStatus = 100;
        this.explode();
    }

    // Generate particles
    explode() {
        const thetaStep = 2 * Math.PI / this.numParticles;
        for (let i = 0; i < this.numParticles; i++) {
            let t = Math.random() * 0.1; // Small random offset for each particle
            let x = Math.cos(thetaStep * i + t) * 30 + this.center.x;
            let y = Math.sin(thetaStep * i + t) * 30 + this.center.y;
            this.particles.push({ x, y, speedX: Math.random() * 4 - 2, speedY: Math.random() * 4 - 2 });
        }
    }

    update() {
        if (this.status < this.maxStatus) {
            this.status++;
            for (let p of this.particles) {
                p.x += p.speedX;
                p.y += p.speedY;
            }
        }
    }

    draw() {
        ctx.fillStyle = this.color;
        for (let p of this.particles) {
            ctx.beginPath();
            ctx.arc(p.x, p.y, 2, 0, 2 * Math.PI);
            ctx.fill();
        }
    }
}

// Animation loop
let fireworks = [new Firework()];

function animate() {
    ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);

    // Draw heart
    let t = performance.now() * 0.001;
    let heartPoint = heartFunction(t);
    ctx.fillStyle = "pink";
    ctx.beginPath();
    ctx.arc(heartPoint.x, heartPoint.y, 10, 0, 2 * Math.PI);
    ctx.fill();

    // Update and draw fireworks
    for (let firework of fireworks) {
        firework.update();
        firework.draw();
    }

    requestAnimationFrame(animate);
}

// Start animation
animate();
</script>
</body>
</html>
